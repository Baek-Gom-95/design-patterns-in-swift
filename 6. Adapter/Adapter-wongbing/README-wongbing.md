# Adapter Pattern

###### tags: `디자인패턴`
[RefactoringGuru - Adapter](https://refactoring.guru/ko/design-patterns/adapter)
# Adapter 패턴

> 래퍼 (Wrapper) 로도 불린다.

## 의도

어댑터는 호환되지 않는 인터페이스를 가진 객체들이 협업할 수 있도록 하는 구조적 디자인 패턴이다.

<img src="https://i.imgur.com/v7EW1vE.png" width="300">

## 문제

주식 시장 모니터링 앱을 만들고 있고, 이 앱은 여러 소스에서 주식 데이터를 XML 형식으로 다운로드 한 후 사용자에게 보기 좋은 차트들과 다이어그램들을 표시한다고 상상해보자.

어느 시점에 당신은 타사의 스마트 분석 라이브러리를 통합하여 당신의 앱을 개선하기로 했다. 그런데 함정은 이 분석 라이브러리는 JSON 형식의 데이터로만 작동한다는 것이다.![](https://i.imgur.com/po8NWku.png)

당신은 이 라이브러리를 XML과 작동하도록 변경할 수 있으나, 그러면 라이브러리에 의존하는 일부 기존 코드가 손상될 수 있다. 또 처음부터 타사의 라이브러리 소스 코드에 접근하는 것이 불가능하여 위의 해결방식을 사용하지 못할 수 있다.

## 해결책

어댑터를 통해 이를 해결할 수 있다. 어댑터는 한 객체의 인터페이스를 다른 객체가 이해할 수 있도록 변환하는 특별한 객체이다. 

어댑터는 변환의 복잡성을 숨기기 위하여 객체 중 하나를 래핑합니다. 래핑된 객체는 어댑터를 인식하지도 못한다. 예를 들어 미터 및 킬로미터 단위로 작동하는 객체를 모든 데이터를 피트 및 마일과 같은 영국식 단위로 변환하는 어댑터로 래핑할 수 있다. 

어댑터는 데이터를 다양한 형식으로 변환할 수 있을 뿐만 아니라 다른 인터페이스를 가진 객체들이 협업하는 데에도 도움을 줄 수 있으며, 대략 다음과 같이 작동한다:

1. 어댑터는 기존에 있던 객체 중 하나와 호환되는 인터페이스를 받는다.
2. 이 인터페이스를 사용하면 기존 객체는 어댑터의 메서드들을 안전하게 호출할 수 있다.
3. 호출을 수신하면 어댑터는 이 요청을 두 번째 객체에 해당 객체가 예상하는 형식과 순서대로 전달한다.

때로는 양방향으로 호출을 변환할 수 있는 양방향 어댑터를 만드는 것도 가능하다.
![](https://i.imgur.com/lP5XSrS.png)

다시 당신의 주식 시장 앱을 살펴보자. 당신은 형식이 호환되지 않는 문제를 해결하기 위해 당신의 코드와 직접 작동하는 분석 라리브러리의 모든 클래스에 대한 XML -> JSON 변환 어댑터를 만든다. 그 후 이러한 어댑터들을 통해서만 해당 라이브러리와 통신하도록 코드를 조정한다. 어댑터는 호출을 받으면 들어오는 XML 데이터를 JSON 구조로 변환한 후 해당 호출을 래핑된 분석 객체의 적절한 메서드들에 전달한다.


## 종류

### 객체 어댑터

### 클래스 어댑터 (다중상속 지원하는 언어에서 사용가능)
